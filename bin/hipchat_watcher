#!/usr/bin/env ruby
require_relative 'support/init'
require_relative 'support/init_se'
require_relative 'support/hipchat_config'
require 'logger'
require_relative '../lib/watcher'
require_relative '../lib/view_hipchat'

view = View::Hipchat::Messenger.new(hipchat_config.token, hipchat_config.room)
view.logger = Logger.new(STDOUT)

requestor = get_se_client()
qm = StackExchange::QuestionsManager.new(requestor, logger)
watcher = Watcher::QuestionsWatcher.new qm, view, logger

watcher.watch_tags 'ruby'
